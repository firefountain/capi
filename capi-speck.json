{
  "swagger": "2.0",
  "info": {
    "title": "capi.paw",
    "version": "v0.0.1",
    "description": "# Description of CAPI RESTful API.\n\n![Capi Logo](http://10.4.0.59/capi/Documentation/Assets/img/capi.png \"Capi Logo\")\n\n## O que é a CAPI?\nA Central API (CAPI) é uma API da Universidade Aberta que permiter acedar a vários serviços directamente através de pedidos REST.\n\nNeste momento estão disponiveis as paths para registo e login de clientes e após autenticação CRUD para Active Directory.\n\nEsta API só permite aceder aos serviços após o cliente estar registado e autenticado na mesma. \n\n### Index\n- [Autenticação](#Autenticação)\n\n### Autenticação\nA CAPI utiliza autenticação via JSON Web Token (JWT).\n\nJWT é um padrão aberto documentado pelo [RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519 \"RFC 7519\"), que viabiliza a transferência de informações e garante a sua autenticidade.\n\nUm JWT é divido em três partes separadas por ponto ”.”, um **header**, um **payload** e uma **signature**.\n\n\n  - **Header**\n    - Formato JSON e geralmente, contém o algoritmo de hashing utilizado na assinatura e o tipo de token (JWT)\n\n```json\n{\n  \"typ\": \"JWT\",\n  \"alg\": \"HS256\"\n}\n```\n\n  - **Payload**\n    - O payload de um JWT é também um JSON e que contém as informações relevantes ao assunto, denominadas claims, na estrutura de mapa, ou seja, chave=valor.\n```json\n{\n  \"client_name\": \"teste1\",\n  \"iat\": 1629906752,\n  \"exp\": 1629910352\n}\n```    \n  - **Signature**\n    - Signature é a terceira e última parte do JWT, para que possa ter um token, precisa-se de um Cabeçalho, Corpo, o Algoritmo definido no Cabeçalho, um secret definido pela aplicação.\n\n```json\nHMACSHA256\n  (\n  base64UrlEncode(header) +  \".\" + base64UrlEncode(payload),\n  your-256-bit-secret\n  ) \n```\n - Resultado:\n ```json\neyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6InRlc3RlMSIsImlhdCI6MTYyOTkwNjc1MiwiZXhwIjoxNjI5OTEwMzUyfQ.Vskrf57VjUpEvlfLK3dMIlkAIXCcNDTIdbD3n_YOlq8\n```\n\n\n```json http\n{\n  \"method\": \"post\",\n  \"url\": \"http://capi.local:8080/auth/login\",\n  \"headers\": {\n    \"Content-Type\": \"application/json\"\n  },\n  \"body\": {\n    \"client_name\": \"teste1\",\n    \"password\": \"1234567890\"\n  }\n}\n```\n\n>CONTACT\n>\n>NAME: CAPI\n>URL: https://capi.uab.pt/developer/support\n>Terms of service: https://capi.uab.pt/about/legal/terms/api/",
    "contact": {
      "name": "Nelson Carvalho",
      "email": "nelson.carvalho@uab.pt"
    }
  },
  "host": "capi.local:8080",
  "schemes": [
    "http"
  ],
  "basePath": "/",
  "paths": {
    "/auth/register": {
      "post": {
        "summary": "Register",
        "description": "Registo de clientes para acesso há CAPI ",
        "operationId": "33e16dde-ba09-4ae8-bf8b-1aac1398920b",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/cliente"
            },
            "description": "",
            "x-examples": {
              "Example": {
                "client_name": "teste3",
                "client_description": "lorem ipsum lorem ipsum",
                "password": "1234567890",
                "active": 1
              }
            }
          },
          {
            "type": "string",
            "in": "header",
            "name": "Content-Type",
            "description": "application/json"
          }
        ],
        "responses": {
          "200": {
            "description": "Criação de cliente com sucesso",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "minLength": 1
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "minLength": 1
                    },
                    "client_name": {
                      "type": "string",
                      "minLength": 1
                    },
                    "client_description": {
                      "type": "string",
                      "minLength": 1
                    },
                    "active": {
                      "type": "string",
                      "minLength": 1
                    },
                    "updated_at": {},
                    "created_at": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "id",
                    "client_name",
                    "client_description",
                    "active",
                    "created_at"
                  ]
                },
                "access_token": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "message",
                "user",
                "access_token"
              ],
              "x-examples": {
                "example-1": {
                  "message": "User authenticated successfully",
                  "user": {
                    "id": "11",
                    "client_name": "teste3",
                    "client_description": "lorem ipsum lorem ipsum",
                    "active": "1",
                    "updated_at": null,
                    "created_at": "2021-08-25 16:58:00"
                  },
                  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6InRlc3RlMyIsImlhdCI6MTYyOTkxMjQ1MSwiZXhwIjoxNjI5OTE2MDUxfQ.28SBUsbbo0dJhagix7MlQo9qwYTx_O4kbMd6WQVxJZg"
                }
              }
            },
            "examples": {
              "Example": {
                "message": "User authenticated successfully",
                "user": {
                  "id": "11",
                  "client_name": "teste3",
                  "client_description": "lorem ipsum lorem ipsum",
                  "active": "1",
                  "updated_at": null,
                  "created_at": "2021-08-25 16:58:00"
                },
                "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6InRlc3RlMyIsImlhdCI6MTYyOTkxMjQ1MSwiZXhwIjoxNjI5OTE2MDUxfQ.28SBUsbbo0dJhagix7MlQo9qwYTx_O4kbMd6WQVxJZg"
              }
            },
            "headers": {
              "Content-Type": {
                "type": "string",
                "description": "application/json"
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
                "password": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "password"
              ],
              "x-examples": {
                "example-1": {
                  "password": "The password field is required."
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "summary": "Login",
        "description": "Autenticação de clientes na CAPI, para acesso a novos pontos da API.",
        "operationId": "6f2707d7-14b0-4fde-bc6d-b30ea52dded6",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "required": false,
            "schema": {
              "description": "",
              "type": "object",
              "x-examples": {
                "example-1": {
                  "client_name": "teste1",
                  "password": "1234567890"
                }
              },
              "properties": {
                "client_name": {
                  "type": "string",
                  "minLength": 1
                },
                "password": {
                  "type": "string",
                  "minLength": 8
                }
              },
              "required": [
                "client_name",
                "password"
              ]
            },
            "in": "body",
            "name": "body",
            "description": "Identificação de cliente e respectiva password",
            "x-examples": {
              "Example": {
                "client_name": "teste1",
                "password": "1234567890"
              }
            }
          },
          {
            "type": "string",
            "in": "header",
            "name": "Content-Type",
            "description": "application/json",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Resultado de uma correcta autenticação\n",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "minLength": 1
                },
                "user": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "minLength": 1
                    },
                    "client_name": {
                      "type": "string",
                      "minLength": 1
                    },
                    "client_description": {
                      "type": "string",
                      "minLength": 1
                    },
                    "active": {
                      "type": "string",
                      "minLength": 1
                    },
                    "updated_at": {},
                    "created_at": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "id",
                    "client_name",
                    "client_description",
                    "active",
                    "created_at"
                  ]
                },
                "access_token": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "message",
                "user",
                "access_token"
              ],
              "x-examples": {
                "example-1": {
                  "message": "User authenticated successfully",
                  "user": {
                    "id": "2",
                    "client_name": "teste1",
                    "client_description": "lorem ipsum lorem ipsum",
                    "active": "1",
                    "updated_at": null,
                    "created_at": "2021-08-10 23:33:02"
                  },
                  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6InRlc3RlMSIsImlhdCI6MTYyOTkwNjc1MiwiZXhwIjoxNjI5OTEwMzUyfQ.bFF6-Guw1iVryVuE1Q_o4W3yXObED96jmq0TCZ4tbZc"
                }
              }
            },
            "examples": {
              "Example": {
                "message": "User authenticated successfully",
                "user": {
                  "id": "2",
                  "client_name": "teste1",
                  "client_description": "lorem ipsum lorem ipsum",
                  "active": "1",
                  "updated_at": null,
                  "created_at": "2021-08-10 23:33:02"
                },
                "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJjbGllbnRfbmFtZSI6InRlc3RlMSIsImlhdCI6MTYyOTkwNjc1MiwiZXhwIjoxNjI5OTEwMzUyfQ.bFF6-Guw1iVryVuE1Q_o4W3yXObED96jmq0TCZ4tbZc"
              }
            }
          },
          "400": {
            "description": "Credenciais incorrectas ou password curta\n",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
                "password": {
                  "type": "string",
                  "minLength": 1
                }
              },
              "required": [
                "password"
              ],
              "x-examples": {
                "example-1": {
                  "password": "Invalid login credentials provided"
                }
              }
            },
            "examples": {
              "Short Password": {
                "password": "The password field must be at least 8 characters in length."
              },
              "Password Required": {
                "password": "The password field is required."
              }
            }
          }
        }
      }
    },
    "/ad": {
      "get": {
        "summary": "GET all Users",
        "description": "Listar todos os utilizadores da Active Directory",
        "operationId": "a55a202d-bb62-4bdb-ac03-13f0e5e8b642",
        "responses": {
          "default": {
            "description": "no response description was provided for this operation"
          }
        },
        "security": [
          {
            "JWT Auth": []
          }
        ],
        "parameters": [
          {
            "type": "string",
            "in": "header",
            "name": "Content-Type",
            "description": "application/json"
          }
        ]
      },
      "post": {
        "summary": "Create User in AD",
        "description": "Criação de utilizador na Active Directory.",
        "operationId": "9af9db24-488c-4778-b970-215bb36f1e4f",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "required": false,
            "schema": {
              "type": "string",
              "default": "{\"c\":\"NO\",\"givenName\":\"Pilar\",\"middleName\":\"b\",\"sn\":\"Leal\",\"department\":\"Filmes\",\"employeeID\":\"66388954\",\"mail\":\"Adriana_Vicente@example.com\",\"memberOf\":\"123123\",\"title\":\"Supervisor\",\"wWWHomePage\":\"https://mara.net\",\"description\":\"Dynamic\",\"extensionAttribute5\":\"Adriana_Amorim@example.com\"}"
            },
            "in": "body",
            "name": "body"
          },
          {
            "type": "string",
            "in": "header",
            "description": "application/json",
            "name": "Content-Type"
          }
        ],
        "responses": {
          "default": {
            "description": "no response description was provided for this operation"
          }
        },
        "security": [
          {
            "JWT Auth": []
          }
        ]
      }
    },
    "/ad/{samaccountname}": {
      "delete": {
        "summary": "Destroy a single user by ID",
        "description": "Apagar um utilizador da Active Directory",
        "operationId": "abda8cdc-8dd9-4659-8aee-22fb91c05573",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "object",
              "properties": {}
            },
            "examples": {
              "Example": {
                "message": "User removed from AD"
              }
            }
          }
        },
        "security": [
          {
            "JWT Auth": []
          }
        ],
        "parameters": [
          {
            "type": "string",
            "in": "header",
            "description": "application/json",
            "name": "Content-Type"
          }
        ]
      },
      "parameters": [
        {
          "type": "string",
          "name": "samaccountname",
          "in": "path",
          "required": true,
          "description": "samaccountname do utilizador na Active Directory"
        }
      ],
      "get": {
        "summary": "",
        "operationId": "get-ad-samaccountname",
        "responses": {
          "200": {
            "description": "Users retrieved successfully",
            "schema": {
              "description": "",
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "minLength": 1
                },
                "users": {
                  "type": "object",
                  "properties": {
                    "0": {
                      "type": "string",
                      "minLength": 1
                    },
                    "1": {
                      "type": "string",
                      "minLength": 1
                    },
                    "2": {
                      "type": "string",
                      "minLength": 1
                    },
                    "3": {
                      "type": "string",
                      "minLength": 1
                    },
                    "4": {
                      "type": "string",
                      "minLength": 1
                    },
                    "5": {
                      "type": "string",
                      "minLength": 1
                    },
                    "6": {
                      "type": "string",
                      "minLength": 1
                    },
                    "7": {
                      "type": "string",
                      "minLength": 1
                    },
                    "8": {
                      "type": "string",
                      "minLength": 1
                    },
                    "9": {
                      "type": "string",
                      "minLength": 1
                    },
                    "10": {
                      "type": "string",
                      "minLength": 1
                    },
                    "11": {
                      "type": "string",
                      "minLength": 1
                    },
                    "12": {
                      "type": "string",
                      "minLength": 1
                    },
                    "13": {
                      "type": "string",
                      "minLength": 1
                    },
                    "14": {
                      "type": "string",
                      "minLength": 1
                    },
                    "15": {
                      "type": "string",
                      "minLength": 1
                    },
                    "16": {
                      "type": "string",
                      "minLength": 1
                    },
                    "17": {
                      "type": "string",
                      "minLength": 1
                    },
                    "18": {
                      "type": "string",
                      "minLength": 1
                    },
                    "19": {
                      "type": "string",
                      "minLength": 1
                    },
                    "20": {
                      "type": "string",
                      "minLength": 1
                    },
                    "21": {
                      "type": "string",
                      "minLength": 1
                    },
                    "22": {
                      "type": "string",
                      "minLength": 1
                    },
                    "23": {
                      "type": "string",
                      "minLength": 1
                    },
                    "24": {
                      "type": "string",
                      "minLength": 1
                    },
                    "25": {
                      "type": "string",
                      "minLength": 1
                    },
                    "26": {
                      "type": "string",
                      "minLength": 1
                    },
                    "27": {
                      "type": "string",
                      "minLength": 1
                    },
                    "28": {
                      "type": "string",
                      "minLength": 1
                    },
                    "objectclass": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "cn": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "distinguishedname": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "instancetype": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "whencreated": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "whenchanged": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "usncreated": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "memberof": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "usnchanged": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "name": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "objectguid": {
                      "type": "string",
                      "minLength": 1
                    },
                    "useraccountcontrol": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "badpwdcount": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "codepage": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "countrycode": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "badpasswordtime": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "lastlogoff": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "lastlogon": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "pwdlastset": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "primarygroupid": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "objectsid": {
                      "type": "string",
                      "minLength": 1
                    },
                    "admincount": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "accountexpires": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "logoncount": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "samaccountname": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "samaccounttype": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "objectcategory": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "dscorepropagationdata": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    },
                    "lastlogontimestamp": {
                      "type": "array",
                      "items": {
                        "properties": {}
                      }
                    }
                  },
                  "required": [
                    "0",
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                    "6",
                    "7",
                    "8",
                    "9",
                    "10",
                    "11",
                    "12",
                    "13",
                    "14",
                    "15",
                    "16",
                    "17",
                    "18",
                    "19",
                    "20",
                    "21",
                    "22",
                    "23",
                    "24",
                    "25",
                    "26",
                    "27",
                    "28",
                    "objectclass",
                    "cn",
                    "distinguishedname",
                    "instancetype",
                    "whencreated",
                    "whenchanged",
                    "usncreated",
                    "memberof",
                    "usnchanged",
                    "name",
                    "objectguid",
                    "useraccountcontrol",
                    "badpwdcount",
                    "codepage",
                    "countrycode",
                    "badpasswordtime",
                    "lastlogoff",
                    "lastlogon",
                    "pwdlastset",
                    "primarygroupid",
                    "objectsid",
                    "admincount",
                    "accountexpires",
                    "logoncount",
                    "samaccountname",
                    "samaccounttype",
                    "objectcategory",
                    "dscorepropagationdata",
                    "lastlogontimestamp"
                  ]
                }
              },
              "required": [
                "message",
                "users"
              ],
              "x-examples": {
                "example-1": {
                  "message": "Users retrieved successfully",
                  "users": {
                    "0": "objectclass",
                    "1": "cn",
                    "2": "distinguishedname",
                    "3": "instancetype",
                    "4": "whencreated",
                    "5": "whenchanged",
                    "6": "usncreated",
                    "7": "memberof",
                    "8": "usnchanged",
                    "9": "name",
                    "10": "objectguid",
                    "11": "useraccountcontrol",
                    "12": "badpwdcount",
                    "13": "codepage",
                    "14": "countrycode",
                    "15": "badpasswordtime",
                    "16": "lastlogoff",
                    "17": "lastlogon",
                    "18": "pwdlastset",
                    "19": "primarygroupid",
                    "20": "objectsid",
                    "21": "admincount",
                    "22": "accountexpires",
                    "23": "logoncount",
                    "24": "samaccountname",
                    "25": "samaccounttype",
                    "26": "objectcategory",
                    "27": "dscorepropagationdata",
                    "28": "lastlogontimestamp",
                    "objectclass": [
                      "top",
                      "person",
                      "organizationalPerson",
                      "user"
                    ],
                    "cn": [
                      "admin"
                    ],
                    "distinguishedname": [
                      "CN=admin,CN=Users,DC=uplift,DC=local"
                    ],
                    "instancetype": [
                      "4"
                    ],
                    "whencreated": [
                      "20210820113403.0Z"
                    ],
                    "whenchanged": [
                      "20210820114313.0Z"
                    ],
                    "usncreated": [
                      "12831"
                    ],
                    "memberof": [
                      "CN=Domain Admins,CN=Users,DC=uplift,DC=local"
                    ],
                    "usnchanged": [
                      "13025"
                    ],
                    "name": [
                      "admin"
                    ],
                    "objectguid": "00886987-2c4f-42a5-8957-27dca08141d6",
                    "useraccountcontrol": [
                      "512"
                    ],
                    "badpwdcount": [
                      "0"
                    ],
                    "codepage": [
                      "0"
                    ],
                    "countrycode": [
                      "0"
                    ],
                    "badpasswordtime": [
                      "0"
                    ],
                    "lastlogoff": [
                      "0"
                    ],
                    "lastlogon": [
                      "0"
                    ],
                    "pwdlastset": [
                      "132739328433481002"
                    ],
                    "primarygroupid": [
                      "513"
                    ],
                    "objectsid": "S-1-5-21-3543265425-1345166158-814452509-1105",
                    "admincount": [
                      "1"
                    ],
                    "accountexpires": [
                      "9223372036854775807"
                    ],
                    "logoncount": [
                      "0"
                    ],
                    "samaccountname": [
                      "admin"
                    ],
                    "samaccounttype": [
                      "805306368"
                    ],
                    "objectcategory": [
                      "CN=Person,CN=Schema,CN=Configuration,DC=uplift,DC=local"
                    ],
                    "dscorepropagationdata": [
                      "20210820114313.0Z",
                      "16010101000000.0Z"
                    ],
                    "lastlogontimestamp": [
                      "132739328435971893"
                    ]
                  }
                }
              }
            },
            "examples": {
              "Example": {
                "message": "Users retrieved successfully",
                "users": {
                  "0": "objectclass",
                  "1": "cn",
                  "2": "distinguishedname",
                  "3": "instancetype",
                  "4": "whencreated",
                  "5": "whenchanged",
                  "6": "usncreated",
                  "7": "memberof",
                  "8": "usnchanged",
                  "9": "name",
                  "10": "objectguid",
                  "11": "useraccountcontrol",
                  "12": "badpwdcount",
                  "13": "codepage",
                  "14": "countrycode",
                  "15": "badpasswordtime",
                  "16": "lastlogoff",
                  "17": "lastlogon",
                  "18": "pwdlastset",
                  "19": "primarygroupid",
                  "20": "objectsid",
                  "21": "admincount",
                  "22": "accountexpires",
                  "23": "logoncount",
                  "24": "samaccountname",
                  "25": "samaccounttype",
                  "26": "objectcategory",
                  "27": "dscorepropagationdata",
                  "28": "lastlogontimestamp",
                  "objectclass": [
                    "top",
                    "person",
                    "organizationalPerson",
                    "user"
                  ],
                  "cn": [
                    "admin"
                  ],
                  "distinguishedname": [
                    "CN=admin,CN=Users,DC=uplift,DC=local"
                  ],
                  "instancetype": [
                    "4"
                  ],
                  "whencreated": [
                    "20210820113403.0Z"
                  ],
                  "whenchanged": [
                    "20210820114313.0Z"
                  ],
                  "usncreated": [
                    "12831"
                  ],
                  "memberof": [
                    "CN=Domain Admins,CN=Users,DC=uplift,DC=local"
                  ],
                  "usnchanged": [
                    "13025"
                  ],
                  "name": [
                    "admin"
                  ],
                  "objectguid": "00886987-2c4f-42a5-8957-27dca08141d6",
                  "useraccountcontrol": [
                    "512"
                  ],
                  "badpwdcount": [
                    "0"
                  ],
                  "codepage": [
                    "0"
                  ],
                  "countrycode": [
                    "0"
                  ],
                  "badpasswordtime": [
                    "0"
                  ],
                  "lastlogoff": [
                    "0"
                  ],
                  "lastlogon": [
                    "0"
                  ],
                  "pwdlastset": [
                    "132739328433481002"
                  ],
                  "primarygroupid": [
                    "513"
                  ],
                  "objectsid": "S-1-5-21-3543265425-1345166158-814452509-1105",
                  "admincount": [
                    "1"
                  ],
                  "accountexpires": [
                    "9223372036854775807"
                  ],
                  "logoncount": [
                    "0"
                  ],
                  "samaccountname": [
                    "admin"
                  ],
                  "samaccounttype": [
                    "805306368"
                  ],
                  "objectcategory": [
                    "CN=Person,CN=Schema,CN=Configuration,DC=uplift,DC=local"
                  ],
                  "dscorepropagationdata": [
                    "20210820114313.0Z",
                    "16010101000000.0Z"
                  ],
                  "lastlogontimestamp": [
                    "132739328435971893"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "type": "string",
            "in": "header",
            "name": "Content-Type",
            "description": "application/json"
          }
        ],
        "description": "Listar dados de um utilizador da Active Directory identificado por samaccountname",
        "security": [
          {
            "JWT": [
              "ad/{samaccountname}"
            ]
          }
        ]
      },
      "put": {
        "summary": "UPDATE user by samaccountname",
        "operationId": "put-ad-samaccountname",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "description": "",
              "type": "object",
              "x-examples": {
                "example-1": {
                  "message": "User updated successfully",
                  "users": {
                    "0": "objectclass",
                    "1": "cn",
                    "2": "description",
                    "3": "distinguishedname",
                    "4": "instancetype",
                    "5": "whencreated",
                    "6": "whenchanged",
                    "7": "displayname",
                    "8": "usncreated",
                    "9": "memberof",
                    "10": "usnchanged",
                    "11": "name",
                    "12": "objectguid",
                    "13": "useraccountcontrol",
                    "14": "badpwdcount",
                    "15": "codepage",
                    "16": "countrycode",
                    "17": "badpasswordtime",
                    "18": "lastlogoff",
                    "19": "lastlogon",
                    "20": "pwdlastset",
                    "21": "primarygroupid",
                    "22": "objectsid",
                    "23": "accountexpires",
                    "24": "logoncount",
                    "25": "samaccountname",
                    "26": "samaccounttype",
                    "27": "objectcategory",
                    "28": "iscriticalsystemobject",
                    "29": "dscorepropagationdata",
                    "objectclass": [
                      "top",
                      "person",
                      "organizationalPerson",
                      "user"
                    ],
                    "cn": [
                      "Guest"
                    ],
                    "description": [
                      "Built-in account for guest access to the computer/domain"
                    ],
                    "distinguishedname": [
                      "CN=Guest,CN=Users,DC=uplift,DC=local"
                    ],
                    "instancetype": [
                      "4"
                    ],
                    "whencreated": [
                      "20210820112157.0Z"
                    ],
                    "whenchanged": [
                      "20210820162732.0Z"
                    ],
                    "displayname": [
                      "Suzy"
                    ],
                    "usncreated": [
                      "8197"
                    ],
                    "memberof": [
                      "CN=Guests,CN=Builtin,DC=uplift,DC=local"
                    ],
                    "usnchanged": [
                      "24597"
                    ],
                    "name": [
                      "Guest"
                    ],
                    "objectguid": "595d1845-c429-44dd-b9ac-daf45fe3dbe1",
                    "useraccountcontrol": [
                      "66082"
                    ],
                    "badpwdcount": [
                      "0"
                    ],
                    "codepage": [
                      "0"
                    ],
                    "countrycode": [
                      "0"
                    ],
                    "badpasswordtime": [
                      "0"
                    ],
                    "lastlogoff": [
                      "0"
                    ],
                    "lastlogon": [
                      "0"
                    ],
                    "pwdlastset": [
                      "0"
                    ],
                    "primarygroupid": [
                      "514"
                    ],
                    "objectsid": "S-1-5-21-3543265425-1345166158-814452509-501",
                    "accountexpires": [
                      "9223372036854775807"
                    ],
                    "logoncount": [
                      "0"
                    ],
                    "samaccountname": [
                      "Guest"
                    ],
                    "samaccounttype": [
                      "805306368"
                    ],
                    "objectcategory": [
                      "CN=Person,CN=Schema,CN=Configuration,DC=uplift,DC=local"
                    ],
                    "iscriticalsystemobject": [
                      "TRUE"
                    ],
                    "dscorepropagationdata": [
                      "20210820012802.0Z",
                      "16010101000001.0Z"
                    ]
                  }
                }
              },
              "properties": {
                "message": {
                  "type": "string",
                  "minLength": 1
                },
                "users": {
                  "type": "object",
                  "properties": {
                    "0": {
                      "type": "string",
                      "minLength": 1
                    },
                    "1": {
                      "type": "string",
                      "minLength": 1
                    },
                    "2": {
                      "type": "string",
                      "minLength": 1
                    },
                    "3": {
                      "type": "string",
                      "minLength": 1
                    },
                    "4": {
                      "type": "string",
                      "minLength": 1
                    },
                    "5": {
                      "type": "string",
                      "minLength": 1
                    },
                    "6": {
                      "type": "string",
                      "minLength": 1
                    },
                    "7": {
                      "type": "string",
                      "minLength": 1
                    },
                    "8": {
                      "type": "string",
                      "minLength": 1
                    },
                    "9": {
                      "type": "string",
                      "minLength": 1
                    },
                    "10": {
                      "type": "string",
                      "minLength": 1
                    },
                    "11": {
                      "type": "string",
                      "minLength": 1
                    },
                    "12": {
                      "type": "string",
                      "minLength": 1
                    },
                    "13": {
                      "type": "string",
                      "minLength": 1
                    },
                    "14": {
                      "type": "string",
                      "minLength": 1
                    },
                    "15": {
                      "type": "string",
                      "minLength": 1
                    },
                    "16": {
                      "type": "string",
                      "minLength": 1
                    },
                    "17": {
                      "type": "string",
                      "minLength": 1
                    },
                    "18": {
                      "type": "string",
                      "minLength": 1
                    },
                    "19": {
                      "type": "string",
                      "minLength": 1
                    },
                    "20": {
                      "type": "string",
                      "minLength": 1
                    },
                    "21": {
                      "type": "string",
                      "minLength": 1
                    },
                    "22": {
                      "type": "string",
                      "minLength": 1
                    },
                    "23": {
                      "type": "string",
                      "minLength": 1
                    },
                    "24": {
                      "type": "string",
                      "minLength": 1
                    },
                    "25": {
                      "type": "string",
                      "minLength": 1
                    },
                    "26": {
                      "type": "string",
                      "minLength": 1
                    },
                    "27": {
                      "type": "string",
                      "minLength": 1
                    },
                    "28": {
                      "type": "string",
                      "minLength": 1
                    },
                    "29": {
                      "type": "string",
                      "minLength": 1
                    },
                    "objectclass": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "cn": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "description": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "distinguishedname": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "instancetype": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "whencreated": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "whenchanged": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "displayname": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "usncreated": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "memberof": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "usnchanged": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "name": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "objectguid": {
                      "type": "string",
                      "minLength": 1
                    },
                    "useraccountcontrol": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "badpwdcount": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "codepage": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "countrycode": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "badpasswordtime": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "lastlogoff": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "lastlogon": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "pwdlastset": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "primarygroupid": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "objectsid": {
                      "type": "string",
                      "minLength": 1
                    },
                    "accountexpires": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "logoncount": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "samaccountname": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "samaccounttype": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "objectcategory": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "iscriticalsystemobject": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "dscorepropagationdata": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            },
            "examples": {
              "Example": {
                "message": "User updated successfully",
                "users": {
                  "0": "objectclass",
                  "1": "cn",
                  "2": "description",
                  "3": "distinguishedname",
                  "4": "instancetype",
                  "5": "whencreated",
                  "6": "whenchanged",
                  "7": "displayname",
                  "8": "usncreated",
                  "9": "memberof",
                  "10": "usnchanged",
                  "11": "name",
                  "12": "objectguid",
                  "13": "useraccountcontrol",
                  "14": "badpwdcount",
                  "15": "codepage",
                  "16": "countrycode",
                  "17": "badpasswordtime",
                  "18": "lastlogoff",
                  "19": "lastlogon",
                  "20": "pwdlastset",
                  "21": "primarygroupid",
                  "22": "objectsid",
                  "23": "accountexpires",
                  "24": "logoncount",
                  "25": "samaccountname",
                  "26": "samaccounttype",
                  "27": "objectcategory",
                  "28": "iscriticalsystemobject",
                  "29": "dscorepropagationdata",
                  "objectclass": [
                    "top",
                    "person",
                    "organizationalPerson",
                    "user"
                  ],
                  "cn": [
                    "Guest"
                  ],
                  "description": [
                    "Built-in account for guest access to the computer/domain"
                  ],
                  "distinguishedname": [
                    "CN=Guest,CN=Users,DC=uplift,DC=local"
                  ],
                  "instancetype": [
                    "4"
                  ],
                  "whencreated": [
                    "20210820112157.0Z"
                  ],
                  "whenchanged": [
                    "20210820162732.0Z"
                  ],
                  "displayname": [
                    "Suzy"
                  ],
                  "usncreated": [
                    "8197"
                  ],
                  "memberof": [
                    "CN=Guests,CN=Builtin,DC=uplift,DC=local"
                  ],
                  "usnchanged": [
                    "24597"
                  ],
                  "name": [
                    "Guest"
                  ],
                  "objectguid": "595d1845-c429-44dd-b9ac-daf45fe3dbe1",
                  "useraccountcontrol": [
                    "66082"
                  ],
                  "badpwdcount": [
                    "0"
                  ],
                  "codepage": [
                    "0"
                  ],
                  "countrycode": [
                    "0"
                  ],
                  "badpasswordtime": [
                    "0"
                  ],
                  "lastlogoff": [
                    "0"
                  ],
                  "lastlogon": [
                    "0"
                  ],
                  "pwdlastset": [
                    "0"
                  ],
                  "primarygroupid": [
                    "514"
                  ],
                  "objectsid": "S-1-5-21-3543265425-1345166158-814452509-501",
                  "accountexpires": [
                    "9223372036854775807"
                  ],
                  "logoncount": [
                    "0"
                  ],
                  "samaccountname": [
                    "Guest"
                  ],
                  "samaccounttype": [
                    "805306368"
                  ],
                  "objectcategory": [
                    "CN=Person,CN=Schema,CN=Configuration,DC=uplift,DC=local"
                  ],
                  "iscriticalsystemobject": [
                    "TRUE"
                  ],
                  "dscorepropagationdata": [
                    "20210820012802.0Z",
                    "16010101000001.0Z"
                  ]
                }
              }
            }
          }
        },
        "description": "Actualizar dados de um utilizador com identifação por samaccountname",
        "parameters": [
          {
            "type": "string",
            "in": "header",
            "description": "application/json",
            "name": "Content-Type"
          }
        ]
      }
    }
  },
  "securityDefinitions": {
    "JWT": {
      "authorizationUrl": "https://capi.local:8080/auth/login",
      "flow": "implicit",
      "scopes": {
        "ad": "Listar todos os utilizadores da AD",
        "ad/{samaccountname}": "Listar a informação de um utilizador da AD"
      },
      "type": "oauth2"
    }
  },
  "tags": [
    {
      "name": "Active Directory"
    }
  ],
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "security": [
    {
      "oauth_2_auth": []
    }
  ],
  "definitions": {
    "cliente": {
      "description": "Model of CAPI client creation\n",
      "type": "object",
      "properties": {
        "client_name": {
          "type": "string",
          "minLength": 1
        },
        "client_description": {
          "type": "string",
          "minLength": 1
        },
        "password": {
          "type": "string",
          "minLength": 1
        },
        "active": {
          "type": "number"
        }
      },
      "required": [
        "client_name",
        "client_description",
        "password",
        "active"
      ],
      "x-examples": {
        "Example": {
          "client_name": "teste3",
          "client_description": "lorem ipsum lorem ipsum",
          "password": "1234567890",
          "active": 1
        }
      }
    }
  },
  "value": "{\n  \"method\": \"get\",\n  \"url\": \"http://capi.local:8080/auth/login\",\n  \"headers\": {\n    \"Content-Type\": \"application/json\"\n  },\n  \"body\": {\n    \"client_name\": \"string\",\n    \"password\": \"string\"\n  }\n}"
}